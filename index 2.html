<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Ç–æ—Ç–∏–ø –ò–ò-—á–∞—Ç–∞ –¥–ª—è –û—Ç–µ–ª—è</title>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —à—Ä–∏—Ñ—Ç Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /*
         * CSS –ü–ï–†–ï–ú–ï–ù–ù–´–ï –î–õ–Ø –ê–ö–¶–ï–ù–¢–ù–û–ì–û –¶–í–ï–¢–ê
         */
        :root {
            --accent-color: #2563eb; /* Default blue-600 */
            --accent-hover: #1d4ed8; /* Default blue-700 */
            --accent-rgb: 37, 99, 235; /* –î–ª—è –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ */
        }

        /*
         * –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
         */
        body {
            background-color: #ffffff;
            font-family: 'Inter', sans-serif;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        /* * –°–¢–ò–õ–ò –¢–ï–ú–ù–û–ô –¢–ï–ú–´ (–ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ #chat-window) */
        #chat-window.dark-mode {
            background-color: #1f2937; border-color: #374151;
        }
        #chat-window.dark-mode #chat-messages { background-color: #1f2937; }
        #chat-window.dark-mode .chat-message-ai { background-color: #374151; color: #e5e7eb; }
        #chat-window.dark-mode .typing-indicator-bubble { background-color: #374151; }
        #chat-window.dark-mode footer { background-color: #111827; border-top-color: #374151; }
        #chat-window.dark-mode #message-input { color: #f3f4f6; }
        #chat-window.dark-mode #message-input::placeholder { color: #6b7280; }
        #chat-window.dark-mode .input-wrapper-bg { background-color: #374151; border-color: #4b5563; }
        #chat-window.dark-mode #lang-dropdown { background-color: #1f2937; color: #f3f4f6; border: 1px solid #374151; }
        #chat-window.dark-mode .lang-option { color: #e5e7eb; }
        #chat-window.dark-mode .lang-option:hover { background-color: #374151; }
        #chat-window.dark-mode .lang-option.selected { background-color: #374151; color: var(--accent-color); }

        /* * –ü–†–ò–ú–ï–ù–ï–ù–ò–ï –ê–ö–¶–ï–ù–¢–ù–û–ì–û –¶–í–ï–¢–ê */
        .accent-bg { background-color: var(--accent-color) !important; }
        .accent-bg-hover:hover { background-color: var(--accent-hover) !important; }
        .accent-text { color: var(--accent-color) !important; }
        .accent-border { border-color: var(--accent-color) !important; }
        .accent-fill { fill: var(--accent-color) !important; }

        
        /* –ö–Ω–æ–ø–∫–∞ –≤–∏–¥–∂–µ—Ç–∞ */
        #chat-widget-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: auto;
            padding: 12px 24px;
            border-radius: 30px;
            gap: 10px;
            background-color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            z-index: 1000;
            border: none;
            /* –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è: –ú–∞—è–∫ + –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –≤—Å—Ç—Ä—è—Å–∫–∞ */
            animation: ripple 2s infinite, shake-interval 6s infinite ease-in-out;
        }

        #chat-widget-button:hover {
            transform: scale(1.05);
            animation-play-state: paused; /* –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            background-color: var(--accent-hover);
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è "–ú–∞—è–∫" (Ripple) */
        @keyframes ripple {
            0% { box-shadow: 0 0 0 0 rgba(var(--accent-rgb), 0.7); }
            70% { box-shadow: 0 0 0 15px rgba(var(--accent-rgb), 0); }
            100% { box-shadow: 0 0 0 0 rgba(var(--accent-rgb), 0); }
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è "–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –≤—Å—Ç—Ä—è—Å–∫–∞" */
        @keyframes shake-interval {
            0%, 85% { transform: rotate(0deg); }
            87% { transform: rotate(-5deg); }
            89% { transform: rotate(5deg); }
            91% { transform: rotate(-5deg); }
            93% { transform: rotate(5deg); }
            95% { transform: rotate(0deg); }
            100% { transform: rotate(0deg); }
        }

        .chat-button-text {
            color: white;
            font-weight: 600;
            font-size: 16px;
            line-height: 1;
            white-space: nowrap;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–Ω–∏—è –¥–ª—è –∑–Ω–∞—á–∫–∞ */
        @keyframes badge-pop {
            0%, 100% { transform: scale(1) translateY(0); }
            50% { transform: scale(1.1) translateY(-4px); }
        }

        /* –ó–Ω–∞—á–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è */
        #chat-notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 20px;
            height: 20px;
            background-color: #ef4444;
            color: white;
            font-size: 11px;
            font-weight: bold;
            border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            animation: badge-pop 2s infinite ease-in-out;
            z-index: 10;
        }

        /* –û–∫–Ω–æ —á–∞—Ç–∞ */
        #chat-window {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 1001;
            opacity: 0;
            visibility: hidden;
            transform-origin: bottom right;
            transform: scale(0.5) translateY(20px);
            transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
        }

        @media (min-width: 768px) {
            #chat-window {
                top: auto;
                left: auto;
                bottom: 90px;
                right: 20px;
                width: 380px;
                height: 650px;
                max-height: 85vh;
                border-radius: 16px;
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
            }
        }

        #chat-window.open {
            opacity: 1;
            visibility: visible;
            transform: scale(1) translateY(0);
        }

        /* –°–æ–æ–±—â–µ–Ω–∏—è */
        .chat-message-user {
            background-color: var(--accent-color); color: white;
            align-self: flex-end; border-radius: 18px 18px 4px 18px;
            box-shadow: 0 1px 2px rgba(0,0,0,0.1);
        }
        .chat-message-ai {
            background-color: #f3f4f6; color: #1f2937;
            align-self: flex-start; border-radius: 18px 18px 18px 4px;
        }

        /* –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞–±–æ—Ä–∞ */
        .typing-indicator-bubble {
            display: flex; align-items: center; padding: 12px 16px;
            background-color: #f3f4f6; border-radius: 18px 18px 18px 4px;
            align-self: flex-start; width: fit-content; margin-bottom: 4px;
        }
        .typing-indicator-bubble span {
            height: 8px; width: 8px; background-color: #9ca3af;
            border-radius: 50%; display: inline-block; margin: 0 2px;
            animation: typing-bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator-bubble span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator-bubble span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing-bounce {
            0%, 80%, 100% { transform: scale(0); opacity: 0.6; }
            40% { transform: scale(1); opacity: 1; }
        }

        #chat-messages::-webkit-scrollbar { width: 6px; }
        #chat-messages::-webkit-scrollbar-track { background: transparent; }
        #chat-messages::-webkit-scrollbar-thumb { background-color: rgba(0,0,0,0.1); border-radius: 20px; }

        /* –ú–µ–Ω—é —è–∑—ã–∫–∞ */
        #lang-dropdown {
            position: absolute; top: 100%; right: 0; margin-top: 8px;
            background-color: white; border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15); padding: 4px; min-width: 120px;
            opacity: 0; visibility: hidden; transform: translateY(-10px);
            transition: all 0.2s ease; z-index: 60;
        }
        #lang-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0); }
        .lang-option {
            display: flex; align-items: center; gap: 8px; padding: 8px 12px; cursor: pointer;
            border-radius: 8px; color: #374151; font-size: 13px; font-weight: 500; transition: background-color 0.2s;
        }
        .lang-option:hover { background-color: #f3f4f6; color: var(--accent-color); }
        .lang-option.selected { background-color: #eff6ff; color: var(--accent-color); }

        /* Telegram –ë–∞–Ω–Ω–µ—Ä */
        #telegram-banner {
            position: absolute; bottom: 100%; left: 12px; right: 12px; margin-bottom: 30px;
            transform: translateY(0); overflow: hidden; white-space: nowrap; height: 64px; z-index: 50;
        }
        #telegram-banner.collapsed {
            width: 40px; height: 40px; padding: 0; left: auto; right: 12px; border-radius: 50%;
            justify-content: center; cursor: pointer; box-shadow: 0 4px 15px rgba(36, 161, 222, 0.4);
            transform: translateY(10px) scale(0.95);
        }
        #telegram-banner.collapsed .tg-content, #telegram-banner.collapsed #close-tg-banner { opacity: 0; pointer-events: none; position: absolute; }
        #telegram-banner.collapsed .tg-icon-wrapper { margin: 0; background-color: transparent; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; }
        #telegram-banner.collapsed .tg-icon-wrapper svg { width: 20px; height: 20px; }

        /* * –°–¢–ò–õ–ò –î–õ–Ø –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–ò */
        #admin-panel {
            position: fixed; top: 20px; left: 20px; background: white; padding: 20px;
            border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); z-index: 2000;
            width: 280px; font-family: 'Inter', sans-serif; border: 1px solid #e5e7eb;
            max-height: 90vh; overflow-y: auto; /* –ù–∞ —Å–ª—É—á–∞–π, –µ—Å–ª–∏ –ø–∞–Ω–µ–ª—å —Å—Ç–∞–Ω–µ—Ç –≤—ã—Å–æ–∫–æ–π */
        }
        #admin-panel::-webkit-scrollbar { width: 4px; }
        #admin-panel::-webkit-scrollbar-thumb { background-color: #ccc; border-radius: 4px; }

        .admin-control { margin-bottom: 16px; }
        .admin-label {
            display: block; font-size: 12px; font-weight: 600; text-transform: uppercase;
            color: #6b7280; margin-bottom: 8px; letter-spacing: 0.05em;
        }
        .color-picker-wrapper { display: flex; align-items: center; gap: 10px; }
        input[type="color"] {
            -webkit-appearance: none; border: none; width: 40px; height: 40px;
            border-radius: 50%; cursor: pointer; padding: 0; overflow: hidden;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        input[type="color"]::-webkit-color-swatch-wrapper { padding: 0; }
        input[type="color"]::-webkit-color-swatch { border: none; border-radius: 50%; }
        
        /* –°—Ç–∏–ª—å –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—è –∞–¥–º–∏–Ω–∫–∏ */
        .admin-input {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            font-size: 14px;
            color: #374151;
            outline: none;
            transition: border-color 0.2s;
        }
        .admin-input:focus { border-color: var(--accent-color); }

        /* –°—Ç–∏–ª—å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ */
        .file-upload-btn {
            display: block;
            width: 100%;
            padding: 8px;
            text-align: center;
            background-color: #f3f4f6;
            border: 1px dashed #d1d5db;
            border-radius: 8px;
            font-size: 13px;
            color: #6b7280;
            cursor: pointer;
            transition: all 0.2s;
        }
        .file-upload-btn:hover { background-color: #e5e7eb; border-color: #9ca3af; }

        .switch { position: relative; display: inline-block; width: 50px; height: 26px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
            background-color: #ccc; transition: .4s; border-radius: 34px;
        }
        .slider:before {
            position: absolute; content: ""; height: 20px; width: 20px; left: 3px; bottom: 3px;
            background-color: white; transition: .4s; border-radius: 50%;
        }
        input:checked + .slider { background-color: var(--accent-color); }
        input:checked + .slider:before { transform: translateX(24px); }

    </style>
</head>
<body>

    <!-- –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ -->
    <div id="admin-panel">
        <h3 class="font-bold text-lg mb-4">‚öôÔ∏è –ê–¥–º–∏–Ω –ü–∞–Ω–µ–ª—å</h3>
        
        <!-- –°–º–µ–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è -->
        <div class="admin-control">
            <span class="admin-label">–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è</span>
            <input type="text" id="hotel-name-input" class="admin-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ" value="Hilton">
        </div>

        <!-- –°–º–µ–Ω–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ -->
        <div class="admin-control">
            <span class="admin-label">–õ–æ–≥–æ—Ç–∏–ø (–§–æ—Ç–æ)</span>
            <label class="file-upload-btn">
                –í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª
                <input type="file" id="logo-upload" accept="image/*" style="display: none;">
            </label>
        </div>

        <!-- –°–º–µ–Ω–∞ —Ü–≤–µ—Ç–∞ -->
        <div class="admin-control">
            <span class="admin-label">–ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç</span>
            <div class="color-picker-wrapper">
                <input type="color" id="accent-color-picker" value="#2563eb">
                <span id="color-value-text" class="text-sm font-mono opacity-70">#2563eb</span>
            </div>
        </div>

        <!-- –¢–µ–º–Ω–∞—è —Ç–µ–º–∞ -->
        <div class="admin-control">
            <span class="admin-label">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</span>
            <div class="flex items-center justify-between">
                <span class="text-sm text-gray-600">–¢–µ–º–Ω–∞—è —Ç–µ–º–∞</span>
                <label class="switch">
                    <input type="checkbox" id="theme-toggle">
                    <span class="slider"></span>
                </label>
            </div>
        </div>
    </div>

    <!-- 1. –ö–ù–û–ü–ö–ê –í–ò–î–ñ–ï–¢–ê -->
    <button id="chat-widget-button" aria-label="–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <span class="chat-button-text">–ß–∞—Ç —Å –æ—Ç–µ–ª–µ–º</span>
        <span id="chat-notification-badge">1</span>
    </button>

    <!-- 2. –û–ö–ù–û –ß–ê–¢–ê -->
    <div id="chat-window">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
        <header class="accent-bg text-white p-4 flex justify-between items-center shadow-md flex-shrink-0 z-20 relative">
            <div class="flex items-center gap-3">
                <div class="relative">
                    <!-- –ö—Ä—É–≥ –ª–æ–≥–æ—Ç–∏–ø–∞ (–¥–æ–±–∞–≤–ª–µ–Ω ID –¥–ª—è JS) -->
                    <div id="hotel-logo-container" class="w-12 h-12 rounded-full bg-white accent-text flex items-center justify-center shadow-sm overflow-hidden">
                        <!-- –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø (SVG) -->
                        <svg width="32" height="32" viewBox="0 0 200 200" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="accent-fill">
                            <g>
                                <path d="M100 0C44.7715 0 0 44.7715 0 100C0 155.228 44.7715 200 100 200C155.228 200 200 155.228 200 100C200 44.7715 155.228 0 100 0ZM100 190C50.2944 190 10 149.706 10 100C10 50.2944 50.2944 10 100 10C149.706 10 190 50.2944 190 100C190 149.706 149.706 190 100 190Z"/>
                                <path d="M135.259 40H121.785L79.7915 137.915H64.741L78.2146 40H91.6881L135.259 137.915H150.208L135.259 40Z"/>
                                <path d="M136.215 130.64C136.215 130.64 121.785 137.915 121.785 137.915C121.785 137.915 136.215 145.19 136.215 145.19C136.215 145.19 150.645 137.915 150.645 137.915C150.645 137.915 136.215 130.64 136.215 130.64Z"/>
                                <path d="M63.7854 130.64C63.7854 130.64 49.3553 137.915 49.3553 137.915C49.3553 137.915 63.7854 145.19 63.7854 145.19C63.7854 145.19 78.2155 137.915 78.2155 137.915C78.2155 137.915 63.7854 130.64 63.7854 130.64Z"/>
                            </g>
                        </svg>
                    </div>
                    <!-- –ó–µ–ª–µ–Ω—ã–π –∫—Ä—É–∂–æ—á–µ–∫ -->
                    <div class="absolute bottom-0 right-0 w-4 h-4 bg-green-400 border-2 accent-border rounded-full" title="–û–Ω–ª–∞–π–Ω"></div>
                </div>
                <div>
                    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ç–µ–ª—è (–¥–æ–±–∞–≤–ª–µ–Ω ID –¥–ª—è JS) -->
                    <h3 id="hotel-name-text" class="text-lg font-bold leading-tight tracking-wide">Hilton</h3>
                </div>
            </div>
            
            <div class="flex items-center gap-1 relative">
                <button id="lang-btn" class="p-2 rounded-full hover:bg-white/20 transition text-white/90 hover:text-white" aria-label="–í—ã–±—Ä–∞—Ç—å —è–∑—ã–∫">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>
                </button>
                <div id="lang-dropdown">
                    <div class="lang-option selected" data-lang="ru">–†—É—Å—Å–∫–∏–π</div>
                    <div class="lang-option" data-lang="ua">–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞</div>
                    <div class="lang-option" data-lang="en">English</div>
                </div>
                <button id="chat-close-button" class="text-white/80 hover:text-white hover:bg-white/10 rounded-full p-2 transition ml-1" aria-label="–°–≤–µ—Ä–Ω—É—Ç—å —á–∞—Ç">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </button>
            </div>
        </header>

        <!-- –û–±–ª–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π -->
        <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-3 flex flex-col bg-white relative">
            <div id="typing-indicator" class="hidden" aria-hidden="true">
                <div class="typing-indicator-bubble">
                    <span></span><span></span><span></span>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å: Footer -->
        <footer class="border-t border-gray-100 bg-gray-50 flex-shrink-0 flex flex-col relative z-20">
            
            <!-- –ë–ê–ù–ù–ï–† TELEGRAM -->
            <a href="https://t.me/hilton" target="_blank" id="telegram-banner" class="bg-[#24A1DE] text-white rounded-2xl p-3 shadow-lg flex items-center gap-3 hover:opacity-95 no-underline">
                <div class="tg-icon-wrapper w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white flex-shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.64 6.8c-.15 1.58-.8 5.42-1.13 7.19-.14.75-.42 1-.68 1.03-.58.05-1.02-.38-1.58-.75-.88-.58-2.05-1.23-2.21-1.41-.37-.39.52-1.23.91-1.6 1.22-1.18 2.43-2.17 2.43-2.17s.2-.18-.05.08c-.24.26-3.45 2.36-3.7 2.53-.34.23-.97.28-1.38.16l-1.97-.6c-.48-.15-.7-.32-.67-.67.02-.4.53-.8 2.08-1.42 6.08-2.27 7.55-2.87 8.2-2.87.67 0 .62 1.3.75 1.9z"/></svg>
                </div>
                <div class="tg-content flex flex-col pr-6">
                    <span class="text-sm font-bold leading-tight">–ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram</span>
                    <span class="text-xs opacity-90 text-blue-50">–ë—ã—Å—Ç—Ä–µ–µ –∏ —É–¥–æ–±–Ω–µ–µ</span>
                </div>
                <button id="close-tg-banner" class="absolute top-2 right-2 w-6 h-6 flex items-center justify-center text-white/60 hover:text-white rounded-full bg-black/10 hover:bg-black/20 transition-all z-10">
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                </button>
            </a>

            <!-- –û—Å–Ω–æ–≤–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –≤–≤–æ–¥–∞ -->
            <div class="px-3 pb-1 pt-2">
                <div class="input-wrapper-bg flex items-center gap-2 bg-white border border-gray-200 rounded-3xl pl-3 pr-1 py-1 focus-within:ring-2 focus-within:ring-blue-500/50 focus-within:border-blue-500 transition-shadow transition-colors">
                    <input type="text" id="message-input" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." class="flex-1 bg-transparent border-none focus:ring-0 p-1 text-sm max-h-20 overflow-y-auto resize-none outline-none text-gray-700 placeholder-gray-400 disabled:opacity-50 disabled:cursor-not-allowed" autocomplete="off">
                    <button id="send-button" class="w-10 h-10 rounded-full accent-bg text-white flex items-center justify-center accent-bg-hover transition transform hover:scale-105 flex-shrink-0 mb-0.5 shadow-sm disabled:opacity-70 disabled:cursor-not-allowed">
                        <svg id="btn-icon-send" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>
                        <svg id="btn-icon-loading" class="hidden animate-spin" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12a9 9 0 1 1-6.219-8.56"></path></svg>
                    </button>
                </div>
            </div>

            <div class="text-center pb-2 pt-1"> 
                <span class="text-sm text-gray-400 font-medium">Powered by <a href="https://hotelmol.com" target="_blank" class="accent-text hover:underline cursor-pointer">hotelmol.com</a></span>
            </div>
        </footer>
    </div>

    <!-- 3. JAVASCRIPT –õ–û–ì–ò–ö–ê -->
    <script>
        const widgetButton = document.getElementById('chat-widget-button');
        const chatWindow = document.getElementById('chat-window');
        const closeButton = document.getElementById('chat-close-button');
        const messagesContainer = document.getElementById('chat-messages');
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');
        const typingIndicator = document.getElementById('typing-indicator');
        const notificationBadge = document.getElementById('chat-notification-badge');
        const btnIconSend = document.getElementById('btn-icon-send');
        const btnIconLoading = document.getElementById('btn-icon-loading');
        const tgBanner = document.getElementById('telegram-banner');
        const closeTgBannerBtn = document.getElementById('close-tg-banner');
        const langBtn = document.getElementById('lang-btn');
        const langDropdown = document.getElementById('lang-dropdown');
        const langOptions = document.querySelectorAll('.lang-option');
        const chatButtonText = document.querySelector('.chat-button-text');
        
        // Admin controls elements
        const accentColorPicker = document.getElementById('accent-color-picker');
        const colorValueText = document.getElementById('color-value-text');
        const themeToggle = document.getElementById('theme-toggle');
        const hotelNameInput = document.getElementById('hotel-name-input');
        const logoUpload = document.getElementById('logo-upload');
        
        // Elements to update
        const hotelNameText = document.getElementById('hotel-name-text');
        const hotelLogoContainer = document.getElementById('hotel-logo-container');

        let welcomed = false;
        let currentLang = 'ru';
        let isGenerating = false;

        const translations = {
            ru: { buttonText: "–ß–∞—Ç —Å –æ—Ç–µ–ª–µ–º", placeholder: "–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...", welcome: "–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Hilton. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å —Å –≤–∞—à–∏–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º?", defaultAI: "–ò–∑–≤–∏–Ω–∏—Ç–µ, —è –ø–æ–∫–∞ —É—á—É—Å—å. –ú–æ–≥—É –ª–∏ —è –ø–æ–º–æ—á—å –≤–∞–º –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–º–µ—Ä?", keywords: { hello: /(–ø—Ä–∏–≤–µ—Ç|–∑–¥—Ä–∞–≤—Å—Ç–≤—É–π|hello|hi)/, book: /(–±—Ä–æ–Ω—å|–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å|–Ω–æ–º–µ—Ä|book|reservation)/, price: /(—Ü–µ–Ω–∞|—Å—Ç–æ–∏–º–æ—Å—Ç—å|—Å–∫–æ–ª—å–∫–æ —Å—Ç–æ–∏—Ç|price)/, thanks: /(—Å–ø–∞—Å–∏–±–æ|–±–ª–∞–≥–æ–¥–∞—Ä—é|thanks)/ }, answers: { hello: "–î–æ–±—Ä—ã–π –¥–µ–Ω—å! –†–∞–¥ –≤–∞—Å –≤–∏–¥–µ—Ç—å –≤ Hilton. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –ø–æ–µ–∑–¥–∫—É –∫ –Ω–∞–º?", book: "–° —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –ø–æ–º–æ–≥—É —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º! üìÖ \n–ù–∞ –∫–∞–∫–∏–µ –¥–∞—Ç—ã –≤—ã –ø–ª–∞–Ω–∏—Ä—É–µ—Ç–µ –∑–∞–µ–∑–¥?", price: "üí∞ **–ù–∞—à–∏ —Ç–∞—Ä–∏—Ñ—ã:**\n‚Ä¢ King Room: –æ—Ç $180/–Ω–æ—á—å\n‚Ä¢ Executive Suite: –æ—Ç $350/–Ω–æ—á—å. –ü–æ–¥—Å–∫–∞–∑–∞—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ –¥–∞—Ç—ã?", thanks: "–í—Å–µ–≥–¥–∞ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞! –•–æ—Ä–æ—à–µ–≥–æ –¥–Ω—è! ‚òÄÔ∏è" } },
            ua: { buttonText: "–ß–∞—Ç –∑ –≥–æ—Ç–µ–ª–µ–º", placeholder: "–ù–∞–ø–∏—à—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...", welcome: "–í—ñ—Ç–∞—î–º–æ! –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –¥–æ Hilton. –ß–∏–º –º–æ–∂—É –¥–æ–ø–æ–º–æ–≥—Ç–∏ –∑ –≤–∞—à–∏–º –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º?", defaultAI: "–í–∏–±–∞—á—Ç–µ, —è –ø–æ–∫–∏ —â–æ –≤—á—É—Å—è. –ß–∏ –º–æ–∂—É —è –¥–æ–ø–æ–º–æ–≥—Ç–∏ –≤–∞–º –∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏ –Ω–æ–º–µ—Ä?", keywords: { hello: /(–ø—Ä–∏–≤—ñ—Ç|–≤—ñ—Ç–∞—é|hello|hi)/, book: /(–±—Ä–æ–Ω—å|–∑–∞–±—Ä–æ–Ω—é–≤–∞—Ç–∏|–Ω–æ–º–µ—Ä|book|reservation)/, price: /(—Ü—ñ–Ω–∞|–≤–∞—Ä—Ç—ñ—Å—Ç—å|—Å–∫—ñ–ª—å–∫–∏ –∫–æ—à—Ç—É—î|price)/, thanks: /(–¥—è–∫—É—é|—Å–ø–∞—Å–∏–±—ñ|thanks)/ }, answers: { hello: "–î–æ–±—Ä–∏–π –¥–µ–Ω—å! –†–∞–¥–∏–π –±–∞—á–∏—Ç–∏ –≤–∞—Å —É Hilton. –ü–ª–∞–Ω—É—î—Ç–µ –ø–æ—ó–∑–¥–∫—É –¥–æ –Ω–∞—Å?", book: "–Ü–∑ –∑–∞–¥–æ–≤–æ–ª–µ–Ω–Ω—è–º –¥–æ–ø–æ–º–æ–∂—É –∑ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è–º! üìÖ \n–ù–∞ —è–∫—ñ –¥–∞—Ç–∏ –≤–∏ –ø–ª–∞–Ω—É—î—Ç–µ –∑–∞—ó–∑–¥?", price: "üí∞ **–ù–∞—à—ñ —Ç–∞—Ä–∏—Ñ–∏:**\n‚Ä¢ King Room: –≤—ñ–¥ $180/–Ω—ñ—á\n‚Ä¢ Executive Suite: –≤—ñ–¥ $350/–Ω—ñ—á. –ü—ñ–¥–∫–∞–∑–∞—Ç–∏ –≤—ñ–ª—å–Ω—ñ –¥–∞—Ç–∏?", thanks: "–ó–∞–≤–∂–¥–∏ –±—É–¥—å –ª–∞—Å–∫–∞! –ì–∞—Ä–Ω–æ–≥–æ –¥–Ω—è! ‚òÄÔ∏è" } },
            en: { buttonText: "Chat with Hotel", placeholder: "Type a message...", welcome: "Hello! Welcome to Hilton. How can I help you with your reservation?", defaultAI: "Sorry, I am still learning. Can I help you book a room?", keywords: { hello: /(hello|hi|greetings|hey)/, book: /(book|reserve|room|reservation)/, price: /(price|cost|rates|much)/, thanks: /(thanks|thank you)/ }, answers: { hello: "Good afternoon! Glad to see you at Hilton. Planning a trip to us?", book: "I'd be happy to help with your booking! üìÖ \nWhat dates are you planning to check in?", price: "üí∞ **Our Rates:**\n‚Ä¢ King Room: from $180/night\n‚Ä¢ Executive Suite: from $350/night. Should I check availability?", thanks: "You are always welcome! Have a nice day! ‚òÄÔ∏è" } }
        };

        // --- Admin Panel Logic ---

        // 1. Change Hotel Name
        hotelNameInput.addEventListener('input', (e) => {
            hotelNameText.textContent = e.target.value || "Hilton";
        });

        // 2. Upload Logo
        logoUpload.addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(event) {
                    // –ó–∞–º–µ–Ω—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –ª–æ–≥–æ—Ç–∏–ø–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                    hotelLogoContainer.innerHTML = `<img src="${event.target.result}" class="w-full h-full object-cover rounded-full" alt="Logo">`;
                }
                reader.readAsDataURL(file);
            }
        });

        // 3. Change Accent Color
        accentColorPicker.addEventListener('input', (e) => {
            const color = e.target.value;
            colorValueText.textContent = color;
            document.documentElement.style.setProperty('--accent-color', color);
            
            const hexToRgb = (hex) => {
                let result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? `${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)}` : '37, 99, 235';
            }
            document.documentElement.style.setProperty('--accent-rgb', hexToRgb(color));
            
            const darkenColor = (hex, percent) => {
                let num = parseInt(hex.replace("#",""), 16),
                amt = Math.round(2.55 * percent),
                R = (num >> 16) - amt,
                G = (num >> 8 & 0x00FF) - amt,
                B = (num & 0x0000FF) - amt;
                return "#" + (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (G<255?G<1?0:G:255)*0x100 + (B<255?B<1?0:B:255)).toString(16).slice(1);
            };
            document.documentElement.style.setProperty('--accent-hover', darkenColor(color, 20));
        });

        // 4. Toggle Dark Theme
        themeToggle.addEventListener('change', (e) => {
            if (e.target.checked) {
                chatWindow.classList.add('dark-mode');
            } else {
                chatWindow.classList.remove('dark-mode');
            }
        });

        // --- Existing Chat Logic ---

        function updateLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            messageInput.placeholder = t.placeholder;
            chatButtonText.textContent = t.buttonText;
            langOptions.forEach(opt => { if (opt.dataset.lang === lang) opt.classList.add('selected'); else opt.classList.remove('selected'); });
        }

        langBtn.addEventListener('click', (e) => { e.stopPropagation(); langDropdown.classList.toggle('active'); });
        langOptions.forEach(option => { option.addEventListener('click', (e) => { e.stopPropagation(); const selectedLang = option.dataset.lang; updateLanguage(selectedLang); langDropdown.classList.remove('active'); }); });
        document.addEventListener('click', (e) => { if (!langDropdown.contains(e.target) && !langBtn.contains(e.target)) langDropdown.classList.remove('active'); });
        tgBanner.addEventListener('click', function(e) { if (this.classList.contains('collapsed')) { e.preventDefault(); this.classList.remove('collapsed'); } });
        closeTgBannerBtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); tgBanner.classList.add('collapsed'); });

        function toggleChat() {
            const isOpen = chatWindow.classList.contains('open');
            if (isOpen) { 
                chatWindow.classList.remove('open'); 
                widgetButton.style.display = 'flex'; 
            } else { 
                chatWindow.classList.add('open'); 
                if(notificationBadge) notificationBadge.style.display = 'none'; 
                messageInput.focus(); 
                if (!welcomed) { 
                    simulateWelcome(); 
                    welcomed = true; 
                } 
            }
        }

        function simulateWelcome() { 
            showTyping(); 
            setTimeout(() => { 
                hideTyping(); 
                addMessage(translations[currentLang].welcome, 'ai'); 
            }, 1000); 
        }
        
        function addMessage(text, sender) { 
            const messageElement = document.createElement('div'); 
            messageElement.className = `chat-message-${sender} p-3 max-w-[85%] text-sm leading-relaxed animate-fade-in mb-2`; 
            messageElement.innerHTML = text.replace(/\n/g, '<br>'); 
            messagesContainer.insertBefore(messageElement, typingIndicator); 
            messagesContainer.scrollTop = messagesContainer.scrollHeight; 
        }

        function showTyping() { 
            typingIndicator.classList.remove('hidden');
            messagesContainer.scrollTop = messagesContainer.scrollHeight; 
        }
        function hideTyping() { 
            typingIndicator.classList.add('hidden'); 
        }

        function setButtonLoading(isLoading) {
            if (isLoading) {
                btnIconSend.classList.add('hidden'); btnIconLoading.classList.remove('hidden');
                sendButton.disabled = true; messageInput.disabled = true;
            } else {
                btnIconSend.classList.remove('hidden'); btnIconLoading.classList.add('hidden');
                sendButton.disabled = false; messageInput.disabled = false; messageInput.focus();
            }
        }

        function getAIResponse(userMessage) {
            const lowerMessage = userMessage.toLowerCase(); const t = translations[currentLang]; let aiResponse = t.defaultAI;
            if (lowerMessage.match(t.keywords.hello)) aiResponse = t.answers.hello;
            else if (lowerMessage.match(t.keywords.book)) aiResponse = t.answers.book;
            else if (lowerMessage.match(t.keywords.price)) aiResponse = t.answers.price;
            else if (lowerMessage.match(t.keywords.thanks)) aiResponse = t.answers.thanks;
            
            setTimeout(() => { 
                hideTyping(); 
                isGenerating = false; 
                setButtonLoading(false); 
                addMessage(aiResponse, 'ai'); 
            }, 2500);
        }

        function handleSendMessage() { 
            if (isGenerating) return;
            const text = messageInput.value.trim(); 
            if (text === '') return; 
            
            isGenerating = true;
            addMessage(text, 'user'); 
            messageInput.value = ''; 
            setButtonLoading(true);
            
            showTyping();
            
            getAIResponse(text); 
        }
        
        widgetButton.addEventListener('click', toggleChat); 
        closeButton.addEventListener('click', toggleChat); 
        sendButton.addEventListener('click', handleSendMessage);
        messageInput.addEventListener('keydown', (event) => { 
            if (event.key === 'Enter' && !event.shiftKey) { 
                event.preventDefault(); 
                handleSendMessage(); 
            } 
        });
    </script>
</body>
</html>